{{set . "title" "Result"}}
{{template "header.html" .}}

<div class="container">

	{{if .hasError}}
	<div class="alert alert-danger">
		{{.hasError}}
	</div>
	{{end}}

	{{if not .hasError}}
	<div class="row">
		<h2>Bill Detail</h2>
	</div>
	<div class="row">
		<table class="table table-bordered table-hover">
			<thead>
				<tr>
					<th colspan=7>
						<span class="pull-left">Bill Number: {{.billModel.billid}}</span>
						<span class="pull-right">Created Date: {{.billDate}}</span>
					</th>
				</tr>
				<tr>
					<th class="text-center">Name</th>
					<th class="text-center">Tax Code</th>
					<th class="text-center">Type</th>
					<th class="text-center">Refundable</th>
					<th class="text-center">Price</th>
					<th class="text-center">Tax</th>
					<th class="text-center">Amount</th>
				</tr>
			</thead>
			{{range $i, $j := .billModel.detail}}
			<tr>
				<td>{{$j.name}}</td>
				<td class="text-center">{{$j.taxcode}}</td>
				<td class="text-center">{{$j.type}}</td>
				<td class="text-center">{{$j.refundable}}</td>
				<td class="text-right">{{$j.price}}</td>
				<td class="text-right">{{$j.tax}}</td>
				<td class="text-right">{{$j.amount}}</td>
			</tr>
			{{end}}
			<tfoor>
			<tr>
				<th class="text-right" colspan=6>Price Subtotal:</th>
				<td class="text-right">{{.billModel.pricetotal}}</td>
			</tr>
			<tr>
				<th class="text-right" colspan=6>Tax Subtotal:</th>
				<td class="text-right">{{.billModel.taxtotal}}</td>
			</tr>
			<tr>
				<th class="text-right" colspan=6>Grand Total:</th>
				<td class="text-right">{{.billModel.grandtotal}}</td>
			</tr>
		</tfoor>
		</table>
	</div>
	{{end}}
	<div class="row">
		<a class="btn btn-danger" href="/tax/index">Back</a>
		<a class="btn btn-success" href="/tax/create">Create New Bill</a>
	</div>
</div>

{{template "footer.html" .}}
